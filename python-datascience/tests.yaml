schemaVersion: "2.0.0"
metadataTest:
  user: "onyxia"
  workdir: "/home/onyxia/work"
fileExistenceTests:
  - name: "user home"
    path: "/home/onyxia"
    shouldExist: true
    permissions: "drwxr-xr-x"
    uid: 1000
    gid: 100
  - name: "onyxia init script"
    path: "/opt/onyxia-init.sh"
    shouldExist: true
    permissions: "rwxrwxr-x"
    uid: 0
    gid: 0
commandTests:
  - name: "Does the binary exists?"
    command: "which"
    args: ["mamba"]
    expectedOutput: ["/opt/mamba/bin/mamba"]
  - name: "Does the binary exists?"
    command: "which"
    args: ["python"]
    expectedOutput: ["/opt/mamba/bin/python"]
  - name: "Does the binary exists?"
    command: "which"
    args: ["pip"]
    expectedOutput: ["/opt/mamba/bin/pip"]
  - name: "Does the binary exists?"
    command: "which"
    args: ["julia"]
    expectedOutput: ["/opt/julia/bin/julia"]
  - name: "Does the binary exists?"
    command: "which"
    args: ["quarto"]
    expectedOutput: ["/usr/local/bin/quarto"]
